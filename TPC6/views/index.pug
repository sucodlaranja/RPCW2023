extends layout

block content
  .w3-card-4
    header.w3-container.w3-purple
      h1 New Task

  form.w3-container(method="POST" action="/add")
    fieldset
      legend Metadata

      label Owner
      input.w3-input.w3-round(type="text" name="owner")
      label Description
      input.w3-input.w3-round(type="text" name="description") 

    button.w3-btn.w3-purple.w3-mb-2(type="submit") Register

  if task
    header.w3-container.w3-purple
      h1 Edit Task

    form.w3-container(method="POST" action="/edit/" + task.id)
      fieldset
        legend Metadata

        label Owner
        input.w3-input.w3-round(type="text" name="owner" value=task.owner)
        label Description
        input.w3-input.w3-round(type="text" name="description" value=task.description) 

      button.w3-btn.w3-purple.w3-mb-2(type="submit") Edit

  header.w3-container.w3-red
    h1 Todo List
  .w3-container 
    table.w3-table
      tr 
        th Owner
        th Description
        th Date
        th Operations
      each s in slist.filter(s => !s.checked)
        tr
          td= s.owner
          td= s.description
          td= s.date
          td
            a.w3-btn.w3-round.w3-yellow.w3-margin-right(href="/edit/" + s._id) Edit
            a.w3-btn.w3-round.w3-red.w3-margin-right(href="/delete/" + s._id) Delete
            a.w3-btn.w3-round.w3-indigo.w3-margin-right(href="/do/" + s._id) Do


  header.w3-container.w3-teal
    h1 Done List
  .w3-container 
    table.w3-table
      tr 
        th Owner
        th Description
        th Date
        th Operations
      each s in slist.filter(s => s.checked)
        tr
          td= s.owner
          td= s.description
          td= s.date
          td
            a.w3-btn.w3-round.w3-yellow.w3-margin-right(href="/edit/" + s._id) Edit
            a.w3-btn.w3-round.w3-red.w3-margin-right(href="/delete/" + s._id) Delete
            a.w3-btn.w3-round.w3-indigo.w3-margin-right(href="/undo/" + s._id) undo

  footer.w3-container.w3-teal 
    Generated by RPCW2023 #{d}
